<html>
<head>
  <img id="marine" class="sprite" src="images/marinez.png" alt="Marines" width="1088" height="896">
  <img id="zombie" class="sprite" src="images/zombie.png" alt="Zombie" width="640" height="480">
  <img id="guide" class="sprite" src="images/guide.gif" alt="Guide" width="798" height="2828">
<title>-Follow My Voice-</title>


  <link rel="stylesheet" type="text/css" href="styles/style.css">

  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
  <script src="scripts/jquery.rest.js" type="text/javascript"></script>

  <script src="scripts/AudioManager/AudioManager.js" type="text/javascript"></script>
  <script src="scripts/global_config.js" type="text/javascript"></script>
  <script src="scripts/zombieClass.js" type="text/javascript"></script>
  <script src="scripts/playerClass.js" type="text/javascript"></script>
  <script src="scripts/guideClass.js" type="text/javascript"></script>
  <script src="scripts/KeypressListeners.js" type="text/javascript"></script>
  <script src="scripts/Levels.js" type="text/javascript"></script>
  <script src="scripts/GameEngine.js" type="text/javascript"></script>
  <script src="scripts/LevelEngine.js" type="text/javascript"></script>

  <script type="text/javascript">
    document.onload = startGame();

    $(document).ready(function() {
    // $('#start').focus();
    console.log("set focus");
    });

    function showSubMenu() {
      $('#main_menu').hide();
      $('#sub-menu').show();
      $('#tutorial').focus();
      readMenu(document.getElementById('tutorial'));
    }
    function showMainMenu() {
      $('#main_menu').show();
      $('#sub-menu').hide();
      $('#start').focus();
      readMenu(document.getElementById('start'));
    }
    function hideMenus() {
      $('#main_menu').hide();
      $('#sub-menu').hide();
    }
    function downMenu() {
      audioManager.stop( lastSoundObj );
      audioManager.stop( globalMenu.menu_intro );
      if($("#main_menu").is(":visible")) {
        list = ['start','select_level'];
        playlist = [ globalMenu.startgame, globalMenu.selectlevel ];
      } else {
        list = ['back_to_menu','tutorial','level1','level2','level3','level4'];
        playlist = [ globalMenu.mainmenu, globalMenu.tutorial, globalMenu.level1, globalMenu.level2, globalMenu.level3, globalMenu.level4 ];
      }

      var selectedMenu = $('.button_class:focus').attr('id');
      var num = -1;
      for (var i = 0; i < list.length; i++){
        if (selectedMenu == list[i]){
          num = i;
        }
      }
      if (num == list.length - 1)
        num = 0;
      else if(num >= 0)
        num = num + 1;
      else if(num == -1)
        num = list.length -1;
      var newMenu = list[num];
      $(document.getElementById(newMenu)).focus();
      lastSoundObj.name = list[num];
      audioManager.play( playlist[num] );
    }

    var lastSoundObj = {
      name: ""
    }

     function upMenu() {
      audioManager.stop( lastSoundObj );
      audioManager.stop( globalMenu.menu_intro );
      if ($("#main_menu").is(":visible")) {
        list = ['start','select_level'];
        playlist = [ globalMenu.startgame, globalMenu.selectlevel ];
      } else {
        list = ['back_to_menu','tutorial','level1','level2','level3','level4'];
        playlist = [ globalMenu.mainmenu, globalMenu.tutorial, globalMenu.level1, globalMenu.level2, globalMenu.level3, globalMenu.level4 ];
      }

      var selectedMenu = $('.button_class:focus').attr('id');
      var num = -1;
      for (var i = 0; i < list.length; i++){
        if (selectedMenu == list[i]){
          num = i;
        }
      }
      if(num == 0)
        num = list.length - 1;
      else if(num >= 0)
        num = num - 1;
       else if(num == -1)
        num = 0;
      var newMenu = list[num];
      $(document.getElementById(newMenu)).focus();
      lastSoundObj.name = list[num];
      audioManager.play( playlist[num] );
    }

    function readMenu(x) {
      audioManager.stop( lastSoundObj );
      audioManager.stop( globalMenu.menu_intro );
      if ($("#main_menu").is(":visible")) {
        list = ['start','select_level'];
        playlist = [ globalMenu.startgame, globalMenu.selectlevel ];
      } else {
        list = ['back_to_menu','tutorial','level1','level2','level3','level4'];
        playlist = [ globalMenu.mainmenu, globalMenu.tutorial, globalMenu.level1, globalMenu.level2, globalMenu.level3, globalMenu.level4 ];
      }

      var selectedMenu = x.id;
      var num = -1;
      for (var i = 0; i < list.length; i++){
        if (selectedMenu == list[i]){
          num = i;
        }
      }
      var newMenu = list[num];
      $(document.getElementById(newMenu)).focus();
      lastSoundObj.name = list[num];
      audioManager.play( playlist[num] );
    }

  </script>


</head>
<body bgcolor="#000000">
	<div id="main_menu">
		<form>
      <input type="button" id="start" class="button_class" name="sel" value="Start" onclick="startLevel(0)" onmouseover="readMenu(this)">
      <input type="button" id="select_level" class="button_class" name="sel" value="Select Level" onclick="showSubMenu()" onmouseover="readMenu(this)">
		</form>
	</div>
  <div id="sub-menu">
    <form>
      <input type="button" id="back_to_menu" class="button_class" name="sel" value="Main Menu" onclick="showMainMenu()" onmouseover="readMenu(this)">
      <input type="button" id="tutorial" class="button_class" name="sel" value="Tutorial" onclick="startLevel(0)" onmouseover="readMenu(this)">
      <input type="button" id="level1" class="button_class" name="sel" value="Level 1" onclick="startLevel(1)" onmouseover="readMenu(this)">
      <input type="button" id="level2" class="button_class" name="sel" value="Level 2" onclick="startLevel(2)" onmouseover="readMenu(this)">
      <input type="button" id="level3" class="button_class" name="sel" value="Level 3" onclick="startLevel(3)" onmouseover="readMenu(this)">
      <input type="button" id="level4" class="button_class" name="sel" value="Level 4" onclick="startLevel(4)" onmouseover="readMenu(this)">
    </form>
  </div>

<div id="screen"></div>
<input type='button' class="small_buttons" value='Main Menu' id='main_menu_master' onclick="document.location.reload()"/>
<input type='button' class="small_buttons" value='Curtain Mode: Off' id='curtain' onclick="curtainMode()"/>


<img id="bg" src="http://www.cs.unc.edu/~stancill/comp585/ZDZ_intro_bg.jpg" alt="Title Picture" style="display:none" width="700" height="700">
<img id="bg_title" src="http://www.cs.unc.edu/~stancill/comp585/ZDZ_intro_text.gif" alt="Title Text" style="display:none" width="700" height="78">
<img id="bg_skull" src="http://www.cs.unc.edu/~stancill/comp585/ZDZ_intro_skull.gif" alt="Title Text" style="display:none" width="700" height="271">
<img id="bg_start" src="http://www.cs.unc.edu/~stancill/comp585/ZDZ_start.gif" alt="Title Text" style="display:none" width="700" height="67">

<img id="loading" src="images/ajax-loader.gif" width="50" height="50" style="display:none">

  <div id="minimapcontainer">
    <canvas id="minimap" width="700" height="700"></canvas>
    <canvas id="levelmap"></canvas>
    <canvas id="minimapobjects"></canvas>

  </div>


</body>
</html>
